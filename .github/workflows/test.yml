name: Node

on:
  workflow_dispatch:
      inputs: 
       version:
        description: 'Version'
        default: '1.0-SNAPSHOT'
        required: true
        type: string
       environment:
        type: choice
        description: environment
        options: 
        - pg
        - wgpg
        - aspg
        - agt
        - dev
        - test
        - stg
        - hotfix
permissions:
      contents: read
      packages: read 
      
jobs:        
   Deploy:
    runs-on: ubuntu-latest
    steps:
     - name: Setting UI Bucket name 
       run: |  
          if [[ $env == wgpg ]]; then
             UIBucketName="cpq-$dest.infy.dcx"
          else
             UIBucketName="cpq-$dest.infy.com"   
          fi   
     - run:  |
          env=${{ github.event.inputs.environment }}
           if [[ $env == agt ]]; then
             env="dev-agt"
             dest="$env"
             echo $dest
             echo $env
           fi
          echo $env
          configFolder="build.$env"
          echo $configFolder
          echo $UIbucketName
            
       
