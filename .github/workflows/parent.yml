name: Parentworkflow
on:
  workflow_dispatch:
    inputs: 
       Brand:
          description: 'Brand'
          type: choice
          required: true
          options:
            - BRAND1
            - Brand2
            - Brand3

run-name: ${{ inputs.Brand }}
jobs:
     
     TestJob: 
      if: ${{ vars.${{ inputs.Brand }} == 'in_progress' }}
      runs-on: ubuntu-latest
      steps:   
        - name: Checkout code
          uses: actions/checkout@v3
        
        - run: |
            echo test
            echo ${{ vars.BRAND1 }} is status of BRAND1
            echo in_progress > myfile.txt 
            cat myfile.txt
            gh variable set BRAND1 < myfile.txt
            echo ${{ vars.BRAND1 }} is status of BRAND1 after updation
          env:
            GH_TOKEN: ${{ secrets.REPO }}
     
#      ChildJob:
#        needs: TestJob
#        uses: ./.github/workflows/child2.yml
#        with:
#          Brand: ${{ inputs.Brand }}
#        secrets:
#          REPO: ${{ secrets.REPO }}
         
         
         
